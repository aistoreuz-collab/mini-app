<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>AI STORE - Mini App + Admin Panel</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { font-family: Arial; margin: 0; padding: 0; background: #f5f5f5; }
    header { background: #0088cc; color: #fff; padding: 15px; text-align: center; }
    h1 { margin: 0; font-size: 24px; }
    #main { display: flex; flex-wrap: wrap; justify-content: center; padding: 15px; }
    .product { background: #fff; margin: 10px; padding: 15px; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); width: 200px; text-align: center; }
    .product img { max-width: 150px; }
    .product button { background: #0088cc; color: white; border: none; padding: 10px 15px; border-radius: 8px; margin-top: 10px; cursor: pointer; }

    /* Admin Panel */
    #admin { background: #f0f0f0; padding: 15px; }
    #admin input, #admin textarea { width: 100%; padding: 8px; margin: 5px 0; }
    #admin button { background: #0088cc; color: #fff; border: none; padding: 10px 20px; cursor: pointer; margin: 5px 0; border-radius: 8px; }
    .admin-product { background: #fff; padding: 10px; margin: 10px 0; border-radius: 8px; }
  </style>
</head>
<body>

<header>
  <h1>üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ AI STORE</h1>
</header>

<div id="main"></div>

<hr>

<div id="admin">
  <h2>Admin Panel</h2>
  <input type="text" id="name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞">
  <textarea id="description" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"></textarea>
  <input type="text" id="price" placeholder="–¶–µ–Ω–∞">
  <input type="text" id="image" placeholder="URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è">
  <button onclick="addProduct()">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç</button>

  <h3>–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã</h3>
  <div id="productList"></div>
</div>

<script>
const tg = Telegram.WebApp;
tg.expand();

// ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ŸÖÿØŸÖŸàÿ¨ÿ© ÿØÿßÿÆŸÑ ÿßŸÑÿµŸÅÿ≠ÿ©
let products = [
  {id: 1, name: "MCHOES V9 PRO", description: "–ë–µ—Å–ø—Ä–æ–≤–æ–¥–Ω—ã–µ –Ω–∞—É—à–Ω–∏–∫–∏ Bluetooth", price: "‚ÇΩ4990", image: "https://via.placeholder.com/150"},
  {id: 2, name: "ForN LeBNEN Pizza", description: "–õ—É—á—à–∞—è –ø–∏—Ü—Ü–∞ –ø—Ä—è–º–æ –∫ –≤–∞–º –¥–æ–º–æ–π", price: "‚ÇΩ1200", image: "https://via.placeholder.com/150"}
];

// ÿπÿ±ÿ∂ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ŸÅŸä ÿßŸÑŸÖÿ™ÿ¨ÿ±
function renderStore() {
  const container = document.getElementById('main');
  container.innerHTML = '';
  products.forEach(p => {
    const div = document.createElement('div');
    div.className = 'product';
    div.innerHTML = `
      <img src="${p.image}" alt="${p.name}">
      <h2>${p.name}</h2>
      <p>${p.description}</p>
      <p><b>${p.price}</b></p>
      <button onclick="order(${p.id})">–ó–∞–∫–∞–∑–∞—Ç—å</button>
    `;
    container.appendChild(div);
  });
}

// Admin Panel - ÿπÿ±ÿ∂ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™
function renderAdmin() {
  const container = document.getElementById('productList');
  container.innerHTML = '';
  products.forEach(p => {
    const div = document.createElement('div');
    div.className = 'admin-product';
    div.innerHTML = `
      <b>${p.name}</b> - ${p.price} <br>
      <button onclick="deleteProduct(${p.id})">–£–¥–∞–ª–∏—Ç—å</button>
    `;
    container.appendChild(div);
  });
}

// ÿ•ÿ∂ÿßŸÅÿ© ŸÖŸÜÿ™ÿ¨ ÿ¨ÿØŸäÿØ
function addProduct() {
  const name = document.getElementById('name').value;
  const description = document.getElementById('description').value;
  const price = document.getElementById('price').value;
  const image = document.getElementById('image').value;

  if(!name || !description || !price || !image){ alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!'); return; }

  const id = products.length ? products[products.length-1].id + 1 : 1;
  products.push({id, name, description, price, image});

  document.getElementById('name').value = '';
  document.getElementById('description').value = '';
  document.getElementById('price').value = '';
  document.getElementById('image').value = '';

  renderStore();
  renderAdmin();
  alert('–ü—Ä–æ–¥—É–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω! ‚ö°');
}

// ÿ≠ÿ∞ŸÅ ŸÖŸÜÿ™ÿ¨
function deleteProduct(id) {
  products = products.filter(p => p.id !== id);
  renderStore();
  renderAdmin();
  alert('–ü—Ä–æ–¥—É–∫—Ç —É–¥–∞–ª—ë–Ω!');
}

// ÿßŸÑÿ∑ŸÑÿ® ŸÖŸÜ ÿßŸÑÿ≤ÿ®ŸàŸÜ
function order(productId) {
  const product = products.find(p => p.id === productId);
  tg.sendData(`–ó–∞–∫–∞–∑:${product.name}`);
  tg.showAlert(`–í–∞—à –∑–∞–∫–∞–∑ "${product.name}" –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω ‚úÖ`);
}

// ÿ™ŸÅÿπŸäŸÑ ÿ£ŸàŸÑ ÿπÿ±ÿ∂
renderStore();
renderAdmin();
</script>

</body>
</html>
